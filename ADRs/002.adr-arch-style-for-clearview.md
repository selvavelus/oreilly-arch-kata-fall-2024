# Arch style for ClearView
Date: 2024-09-24

## Status
Accepted

## Context

We need to build a system which uses an LLM and then we have fetching the data and fetching the report. CRUD and metrics are of microservice style. For asynchronous process like job matching, resume correction, etc these can be event driven. customer facing are microservice and back-end are event driven style
Cost is a major factor as it is a non-profitable organization.
For user experience, latency matters and scalability matters, integration, performance and elasticity.
points of arch style and pick one arch style.
Employers and candidates will use it clearView.

Event driven vs microservice vs service based. Put ranking and select one.



The ClearView (LLM) has to fulfill the requirements of Job seeker as well Employers by act as interface /intermediary between them by enhancing the resume and showing relevant jobs matching their skill sets. After considering various design as explained here and their trade off we have opted for MICROSERVICES + EVENT DRIVEN Architecture.

## Alternatives

| Aspect              | Event-Driven Architecture (EDA)                  | Batch Processing Architecture            |
|---------------------|--------------------------------------------------|------------------------------------------|
| Responsiveness      | Real-time                                        | Delayed (scheduled intervals)            |
| Scalability         | Easily scalable, loosely coupled                 | Requires orchestration, tighter coupling |
| Resource Efficiency | Continuous load balancing, better resource usage | Burst resource usage at specific times   |
| Real-Time Insights  | Immediate                                        | Delayed                                  |
| User Experience     | Immediate feedback, better UX                    | Delayed feedback, suboptimal UX          |
| Error Recovery      | Retry mechanisms, better fault tolerance         | Challenging error recovery               |
| Cost Efficiency     | Pay-as-you-go in cloud environments              | May require over-provisioning            |

* We have discussed various trade off associated with Pure Microservice architecure+Batch processing vs Microservices + Event Driven architecture.
* With Pure Micro services architecture with LLM model , we could foresee below problems         
1) Scaling LLM with Micro service will increase huge cost .
2) Bottleneck can incur due to concurrent requests to particular microservice
3) We need to offload some pressure from LLM service by introducing event driven architecture
* With Batch processing, we are unnecessarily introducing huge latency by forcing the users to wait post resume upload operation and if batch job failes, retry mechansim will be difficult
* With Even driven architecture, for failed processing, retry can be efficitently handed which does seamless handling of failure scenarios
   
## References
https://www.linkedin.com/pulse/understanding-batch-real-time-processing-databricks-scrumconnect-zdgie/


